<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Joaquin's Graduation Dinner 2026</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            forest: {
              DEFAULT: '#2D5A27',
              light:   '#3a7231',
              dark:    '#1e3d1a',
              muted:   '#e8f0e7',
            }
          },
          fontFamily: {
            serif: ['"Georgia"', 'Cambria', 'serif'],
          }
        }
      }
    }
  </script>
  <style>
    /* Subtle leaf-pattern background */
    body {
      background-color: #f7faf6;
      background-image:
        radial-gradient(circle at 10% 20%, rgba(45,90,39,0.06) 0%, transparent 50%),
        radial-gradient(circle at 90% 80%, rgba(45,90,39,0.06) 0%, transparent 50%);
    }

    /* Tab underline animation */
    .tab-active {
      border-bottom: 3px solid #2D5A27;
      color: #2D5A27;
      font-weight: 700;
    }

    /* Image polish */
    .hero-img {
      box-shadow: 0 20px 60px rgba(45,90,39,0.18), 0 4px 16px rgba(0,0,0,0.10);
    }

    /* Disabled tab */
    .tab-disabled {
      opacity: 0.45;
      cursor: not-allowed;
    }

    /* Calendar button hover */
    .btn-calendar:hover {
      background-color: #3a7231;
      transform: translateY(-1px);
      box-shadow: 0 6px 20px rgba(45,90,39,0.30);
    }
    .btn-calendar {
      transition: all 0.2s ease;
    }
  </style>
</head>

<body class="min-h-screen flex flex-col font-sans text-gray-800">

  <!-- ── TAB NAV ────────────────────────────────────────────────── -->
  <nav class="bg-white border-b border-gray-200 shadow-sm sticky top-0 z-10">
    <div class="max-w-2xl mx-auto flex">

      <!-- Active Tab -->
      <button
        id="tab-details"
        class="tab-active flex-1 py-3 text-sm sm:text-base text-center px-2 focus:outline-none"
        onclick="switchTab('details')"
      >
        Event Details
      </button>

      <!-- Disabled / Coming Soon Tab -->
      <div class="flex-1 relative group">
        <button
          class="tab-disabled w-full py-3 text-sm sm:text-base text-center px-2 text-gray-500 font-medium focus:outline-none"
          disabled
          aria-disabled="true"
        >
          RSVP &amp; Menu
        </button>
        <!-- Tooltip -->
        <div class="absolute left-1/2 -translate-x-1/2 top-full mt-1 z-20
                    bg-forest text-white text-xs rounded px-3 py-1 whitespace-nowrap
                    opacity-0 group-hover:opacity-100 pointer-events-none
                    transition-opacity duration-200 shadow-lg">
          ✨ Coming Soon
        </div>
      </div>

    </div>
  </nav>

  <!-- ── MAIN CONTENT ──────────────────────────────────────────── -->
  <main class="flex-1 max-w-2xl mx-auto w-full px-4 py-8">

    <!-- EVENT DETAILS PANEL -->
    <section id="panel-details">

      <!-- Hero Image -->
      <div class="flex justify-center">
        <img
          src="Joaquin.png"
          alt="Joaquin's Graduation Celebration Save the Date"
          class="hero-img rounded-2xl w-full max-w-md object-contain"
          loading="eager"
        />
      </div>

    </section>

  </main>

  <!-- ── FOOTER ────────────────────────────────────────────────── -->
  <footer class="bg-white border-t border-gray-100 py-6 px-4">
    <div class="max-w-2xl mx-auto flex flex-col items-center gap-4">

      <!-- Add to Calendar -->
      <div class="relative" id="cal-wrapper">
        <button
          class="btn-calendar bg-forest text-white font-semibold rounded-full
                 px-8 py-3 text-sm flex items-center gap-2 shadow-md"
          onclick="toggleCalMenu()"
          aria-label="Add this event to your calendar"
        >
          <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
            <line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/>
            <line x1="3" y1="10" x2="21" y2="10"/>
          </svg>
          Add to Calendar
          <svg class="w-3 h-3" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24">
            <polyline points="6 9 12 15 18 9"/>
          </svg>
        </button>

        <!-- Dropdown -->
        <div id="cal-menu" class="hidden absolute bottom-full mb-2 left-1/2 -translate-x-1/2
                                  bg-white rounded-xl shadow-xl border border-gray-100
                                  w-52 overflow-hidden z-30">
          <a id="link-google" href="#" target="_blank"
             class="flex items-center gap-3 px-4 py-3 text-sm text-gray-700
                    hover:bg-forest-muted hover:text-forest transition-colors">
            <svg class="w-4 h-4 shrink-0" viewBox="0 0 24 24" fill="currentColor">
              <path d="M19.5 3h-15A1.5 1.5 0 003 4.5v15A1.5 1.5 0 004.5 21h15a1.5 1.5 0 001.5-1.5v-15A1.5 1.5 0 0019.5 3zm-7 13.5c-2.485 0-4.5-2.015-4.5-4.5S10.015 7.5 12.5 7.5 17 9.515 17 12s-2.015 4.5-4.5 4.5z"/>
            </svg>
            Google Calendar
          </a>
          <a id="link-ics" href="#"
             class="flex items-center gap-3 px-4 py-3 text-sm text-gray-700
                    hover:bg-forest-muted hover:text-forest transition-colors border-t border-gray-50">
            <svg class="w-4 h-4 shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
              <line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/>
              <line x1="3" y1="10" x2="21" y2="10"/>
            </svg>
            Apple / Outlook (.ics)
          </a>
        </div>
      </div>

      <p class="text-xs text-gray-400 text-center">
        Celebrating Joaquin &nbsp;·&nbsp; Miramonte High School Class of 2026<br/>
        With love from Nana Rosita Apodaca
      </p>
    </div>
  </footer>

  <!-- ── SCRIPTS ───────────────────────────────────────────────── -->
  <script>
    // ── Tab logic (Phase 2 ready)
    function switchTab(tab) {
      document.getElementById('tab-details').classList.add('tab-active');
    }

    // ── Event details
    const EVENT = {
      title:    "Joaquin's Graduation Dinner",
      start:    "20260528T190000",   // May 28 2026, 7:00 PM local
      end:      "20260528T220000",   // 10:00 PM local
      location: "Lafayette / Walnut Creek, CA",
      details:  "Celebrating Joaquin's graduation from Miramonte High School. Hosted by Nana Rosita Apodaca."
    };

    // ── Build Google Calendar URL
    document.getElementById('link-google').href =
      `https://calendar.google.com/calendar/render?action=TEMPLATE` +
      `&text=${encodeURIComponent(EVENT.title)}` +
      `&dates=${EVENT.start}/${EVENT.end}` +
      `&location=${encodeURIComponent(EVENT.location)}` +
      `&details=${encodeURIComponent(EVENT.details)}`;

    // ── Build .ics blob for Apple / Outlook
    document.getElementById('link-ics').addEventListener('click', function(e) {
      e.preventDefault();
      const ics = [
        "BEGIN:VCALENDAR",
        "VERSION:2.0",
        "PRODID:-//JAG Grad 2026//EN",
        "BEGIN:VEVENT",
        `SUMMARY:${EVENT.title}`,
        `DTSTART;TZID=America/Los_Angeles:${EVENT.start}`,
        `DTEND;TZID=America/Los_Angeles:${EVENT.end}`,
        `LOCATION:${EVENT.location}`,
        `DESCRIPTION:${EVENT.details}`,
        "STATUS:CONFIRMED",
        "END:VEVENT",
        "END:VCALENDAR"
      ].join("\r\n");

      const blob = new Blob([ics], { type: 'text/calendar' });
      const url  = URL.createObjectURL(blob);
      const a    = document.createElement('a');
      a.href     = url;
      a.download = 'JAG-Grad-2026.ics';
      a.click();
      URL.revokeObjectURL(url);
      toggleCalMenu();
    });

    // ── Toggle dropdown
    function toggleCalMenu() {
      document.getElementById('cal-menu').classList.toggle('hidden');
    }

    // ── Close dropdown on outside click
    document.addEventListener('click', function(e) {
      if (!document.getElementById('cal-wrapper').contains(e.target)) {
        document.getElementById('cal-menu').classList.add('hidden');
      }
    });
  </script>

</body>
</html>
